{# templates/partials/_sf_sv_body.html #}
<div style="display:flex; gap:20px;">
  <!-- =================== SAVOIR-FAIRE =================== -->
  <div style="flex:1;">
    <h4>Savoir-faire</h4>

    {% if activity.savoir_faires and activity.savoir_faires|length > 0 %}
      <ul>
        {% for sf in activity.savoir_faires %}
          <li id="savoir-faires-{{ sf.id }}">
            <span id="savoir-faires-desc-{{ sf.id }}" class="savoir-faires-text">{{ sf.description }}</span>

            <!-- Edit -->
            <button class="edit-savoir-faire-btn"
                    onclick="showEditSavoirFairesForm('{{ sf.id }}')">
              <i class="fa-solid fa-pencil"></i>
            </button>

            <!-- Delete -->
            <button onclick="deleteSavoirFaires('{{ activity.id }}','{{ sf.id }}')">
              <i class="fa-solid fa-trash"></i>
            </button>

            <!-- Inline edit form (caché) -->
            <div id="edit-savoir-faires-form-{{ sf.id }}" style="display:none; margin-top:5px;">
              <input type="text" id="edit-savoir-faires-input-{{ sf.id }}" />
              <button id="submit-edit-savoir-faires-{{ sf.id }}"
                      onclick="submitEditSavoirFaires('{{ activity.id }}','{{ sf.id }}')">Enregistrer</button>
              <button onclick="hideEditSavoirFairesForm('{{ sf.id }}')">Annuler</button>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>Aucun savoir-faire enregistré.</p>
    {% endif %}

    <!-- Add -->
    <button onclick="showAddSavoirFairesForm('{{ activity.id }}')">+ Ajouter un savoir-faire</button>
    <div id="add-savoir-faires-form-{{ activity.id }}" style="display:none; margin-top:5px;">
      <input type="text" id="add-savoir-faires-input-{{ activity.id }}" />
      <button onclick="submitAddSavoirFaires('{{ activity.id }}')">Enregistrer</button>
      <button onclick="hideAddSavoirFairesForm('{{ activity.id }}')">Annuler</button>
    </div>
  </div>

  <!-- =================== SAVOIRS =================== -->
  <div style="flex:1;">
    <h4>Savoirs</h4>

    {% if activity.savoirs and activity.savoirs|length > 0 %}
      <ul>
        {% for sv in activity.savoirs %}
          <li id="savoir-{{ sv.id }}">
            <span id="savoir-desc-{{ sv.id }}" class="savoir-text">{{ sv.description }}</span>

            <!-- Edit -->
            <button onclick="editSavoir('{{ sv.id }}','{{ activity.id }}')">
              <i class="fa-solid fa-pencil"></i>
            </button>

            <!-- Delete -->
            <button onclick="deleteSavoir('{{ activity.id }}','{{ sv.id }}')">
              <i class="fa-solid fa-trash"></i>
            </button>

            <!-- Inline edit form (caché) -->
            <div style="margin-top:5px;">
              <input type="text"
                     id="edit-savoir-input-{{ sv.id }}"
                     style="display:none;"
                     value="">
              <button id="submit-edit-savoir-{{ sv.id }}"
                      style="display:none;"
                      onclick="submitEditSavoir('{{ activity.id }}','{{ sv.id }}')">Enregistrer</button>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>Aucun savoir enregistré.</p>
    {% endif %}

    <!-- Add -->
    <button onclick="showAddSavoirForm('{{ activity.id }}')">+ Ajouter un savoir</button>
    <div id="add-savoir-form-{{ activity.id }}" style="display:none; margin-top:5px;">
      <input type="text" id="add-savoir-input-{{ activity.id }}" />
      <button onclick="submitAddSavoir('{{ activity.id }}')">Enregistrer</button>
      <button onclick="hideAddSavoirForm('{{ activity.id }}')">Annuler</button>
    </div>
  </div>
</div>
