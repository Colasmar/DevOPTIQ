<!-- activity_softskills.html -->

<h3>Habiletés socio-cognitives</h3>

<div id="softskills-list-{{ item.activity.id }}">
  {% for ss in item.activity.softskills %}
    <!-- Affichage existant de chaque HSC -->
    <div class="softskill-item" style="margin-bottom:5px;"
         data-ss-id="{{ ss.id }}"
         data-habilete-lower="{{ ss.habilete|lower }}">
      <span class="softskill-text">
        {{ ss.habilete }} (Niveau: <span class="softskill-level">{{ ss.niveau }}</span>)
      </span>
      {% if ss.justification %}
        <div class="softskill-justification" style="font-size:0.9em; margin-top:3px; color:#444;">
          {{ ss.justification }}
        </div>
      {% endif %}
      <!-- Boutons d'édition/suppression -->
      <i class="fas fa-pencil-alt edit-softskill" title="Modifier"></i>
      <i class="fas fa-trash delete-softskill" title="Supprimer"></i>

      <!-- Formulaire d'édition caché -->
      <div class="edit-softskill-form" id="edit-softskill-form-{{ ss.id }}" style="display:none;">
        <label>Habileté :</label>
        <input type="text" id="edit-softskill-name-{{ ss.id }}" value="{{ ss.habilete }}" />
        <label>Niveau (1..4) :</label>
        <input type="number" min="1" max="4" id="edit-softskill-level-{{ ss.id }}" value="{{ ss.niveau }}" />
        <button onclick="submitEditSoftskillFromDOM('{{ ss.id }}')">Enregistrer</button>
        <button onclick="hideEditSoftskillForm('{{ ss.id }}')">Annuler</button>
      </div>
    </div>
  {% endfor %}
</div>

<!-- Bouton "Proposer HSC" -->
<button onclick="fetchActivityDetailsForPropose({{ item.activity.id }})">
  Proposer HSC
</button>

<!-- Bouton "Traduire Softskills" -->
<button onclick="openTranslateSoftskillsModal({{ item.activity.id }})">
  Traduire Softskills
</button>

<!-- Inclusions des scripts -->
<script src="/static/js/softskills.js"></script>
<script src="/static/js/propose_softskills.js"></script>
<script src="/static/js/translate_softskills.js"></script>
